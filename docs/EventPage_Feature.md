# Event Page Feature - תיקון ניווט לעמוד אירוע

## תיאור הבעיה
כאשר לוחצים על כפתור "פרטים" של אירוע מסוים בדף `/events`, המערכת הייתה מעבירה לדשבורד הראשי (`/`) במקום לדף האירוע הפנימי.

## סיבת הבעיה
1. כפתור "פרטים" השתמש בתג `<a href>` רגיל במקום `<Link to>` של React Router
2. כאשר הדפדפן שלח בקשה לנתיב `/event/{id}`, שרת Flask ביצע redirect ל-`/app/events`
3. ב-React Router לא היה route עבור `/event/:eventId`, כך שה-catch-all route העביר לדף הראשי

## הפתרון
נוצרו השינויים הבאים:

### 1. API Endpoint חדש (`app.py`)
נוסף endpoint חדש `/api/event/<event_id>` שמחזיר את פרטי האירוע המלאים כולל:
- פרטי האירוע הבסיסיים
- צ'ק-ליסט עם טעינה אוטומטית מתבנית
- ספקים משויכים
- חיובים וסיכום תקציב (סה"כ, הוצאות, רווח)
- ציוד

### 2. קומפוננטת EventPage (`src/pages/EventPage.tsx`)
נוצרה קומפוננטה חדשה להצגת עמוד אירוע פנימי עם:
- **Header**: שם האירוע, תאריך, מיקום, לקוח משויך, סוג אירוע
- **Progress Bar**: אחוז השלמה של צ'ק-ליסט
- **Tabs**:
  - **פרטים**: מידע בסיסי על האירוע עם אפשרות עריכה
  - **צ'ק-ליסט**: רשימת משימות עם אפשרות לסמן/בטל סימון והוספת פריטים חדשים
  - **ספקים**: רשימת ספקים משויכים לאירוע
  - **תקציב**: סיכום תקציבי (סה"כ, הוצאות, רווח) ורשימת חיובים
  - **הערות**: שדה הערות חופשי לאירוע

### 3. Route חדש (`src/App.tsx`)
נוסף route חדש:
```tsx
<Route path="event/:eventId" element={<EventPage />} />
```

### 4. תיקון הלינק (`src/pages/Events.tsx`)
שונה כפתור "פרטים" מ:
```tsx
<a href={`/event/${event.id}`}>פרטים</a>
```
ל:
```tsx
<Link to={`/event/${event.id}`}>פרטים</Link>
```

## קבצים שהשתנו
1. `app.py` - נוסף API endpoint `/api/event/<event_id>`
2. `src/pages/EventPage.tsx` - קומפוננטה חדשה
3. `src/App.tsx` - נוסף import ו-route
4. `src/pages/Events.tsx` - שונה מ-`<a href>` ל-`<Link to>`

## אופן השימוש
1. נווט לדף `/events`
2. לחץ על כפתור "פרטים" של אירוע
3. הדף יעבור לעמוד האירוע הפנימי `/event/{event_id}`
4. ניתן לנווט בין הכרטיסיות לצפייה/עריכת מידע

## תאריך יצירה
22/01/2026

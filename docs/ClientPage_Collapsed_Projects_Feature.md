# Client Page - Collapsed Projects & New Task Notification Feature

## תאריך: 26/01/2026

## תיאור הפיצ'ר

### 1. פרויקטים סגורים כברירת מחדל
- פרויקטים בדף הלקוח מוצגים כעת **סגורים** (collapsed) כברירת מחדל
- לחיצה על כותרת הפרויקט פותחת/סוגרת אותו
- האייקונים שונו כך ש:
  - `ChevronDown` מוצג כשהפרויקט **סגור** (לחץ לפתיחה)
  - `ChevronUp` מוצג כשהפרויקט **פתוח** (לחץ לסגירה)

### 2. התראה על משימות חדשות מיוזרים אחרים
כשמשתמש אחר מוסיף משימה חדשה, מופיעה התראה ויזואלית:

#### בכותרת הפרויקט:
- אייקון פעמון (Bell) בצבע כתום עם אנימציית pulse
- Badge אדום עם מספר המשימות החדשות

#### על המשימה עצמה:
- מסגרת כתומה (`ring-2 ring-orange-400`)
- רקע כתום בהיר (`bg-orange-50`)
- תג "חדש" עם אייקון פעמון

## הגדרת "משימה חדשה"
משימה נחשבת ל"חדשה" אם:
1. נוצרה על ידי משתמש **אחר** (לא המשתמש הנוכחי)
2. נוצרה ב-**24 השעות האחרונות**

## קבצים שהשתנו

### `src/pages/ClientPage.tsx`
- עדכון ה-interface של `Task` להוסיף `created_by?: string`
- הוספת import של `Bell` מ-lucide-react
- שינוי `fetchClient` כך שלא ירחיב פרויקטים אוטומטית
- הוספת פונקציות:
  - `hasNewTasksFromOthers(project)` - בודק אם יש משימות חדשות מיוזרים אחרים
  - `countNewTasksFromOthers(project)` - סופר את מספר המשימות החדשות
- עדכון תצוגת הפרויקט להציג badge התראה
- עדכון תצוגת המשימה להציג סימון ויזואלי על משימות חדשות

## פורמטים של תאריכים נתמכים
הפיצ'ר תומך בפורמטים הבאים של `created_date`:
- `dd/mm/yy` (לדוגמה: `26/01/26`)
- `dd/mm/yyyy` (לדוגמה: `26/01/2026`)
- `yyyy-mm-dd` (לדוגמה: `2026-01-26`)
- תאריך עם שעה: `dd/mm/yy HH:MM`

## UX Notes
- ההתראות נעלמות אוטומטית לאחר 24 שעות
- אין צורך בפעולה מצד המשתמש כדי "לסמן כנקרא"
- הפרויקטים סגורים מאפשרים סקירה מהירה של כל הלקוח
